#!/usr/bin/env bash

# Hardcoded constants
FILE=/sys/class/backlight/intel_backlight/brightness

MAX=24242
MIN=1

STEPS=15

# Simple logic
DIFF=$((MAX-MIN))
INCREMENT=$((DIFF/STEPS))

CURRENT=$(cat ${FILE})

if [[ $1 = "up" ]]; then
    NEW=$((CURRENT+INCREMENT))
    if [[ $NEW -ge $MAX ]]; then
        NEW=$MAX
    fi
fi

if [[ $1 = "down" ]]; then
    NEW=$((CURRENT-INCREMENT))
    if [[ $NEW -le $MIN ]]; then
        NEW=$MIN
    fi
fi

echo $NEW > ${FILE}
